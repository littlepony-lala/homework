\documentclass[UTF8]{ctexart}
\usepackage{geometry}
\geometry{a4paper,scale=0.8}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{graphicx}

% Define code style
\lstset{
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    breaklines=true,
    breakatwhitespace=false,
    escapeinside={\%*}{*)}
}

\title{链表类测试报告}
\author{wy}
\date{\today}

\begin{document}
\maketitle

\section{测试设计}
为了确保链表类（`List` 类）功能的正确性，我设计了如下的测试用例，覆盖了链表的核心功能，包括：
\begin{itemize}
    \item 默认构造函数与链表初始化后的空状态验证。
    \item 初始化列表构造函数，验证链表能否通过初始化列表进行正确构造。
    \item 元素插入操作，验证 \texttt{push\_front} 和 \texttt{push\_back} 操作是否按预期工作。
    \item 元素删除操作，测试 \texttt{pop\_front} 和 \texttt{pop\_back}。
    \item 随机位置的插入与删除操作，通过 \texttt{insert} 和 \texttt{erase} 测试链表节点的管理。
    \item 深拷贝测试，验证拷贝构造函数。
    \item 移动构造函数测试，确保资源的移动和转移操作正确无误。
    \item 赋值运算符测试，确保赋值操作的正确性。
    \item 清空链表的操作，使用 \texttt{clear} 函数。
\end{itemize}

\section{测试代码}
测试代码如下所示：
\begin{lstlisting}[language=C++]
// 打印List中所有元素的辅助函数
void printList(const List<int>& lst) {
    for (auto it = lst.begin(); it != lst.end(); ++it) {
        std::cout << *it << " ";
    }
    std::cout << std::endl;
}

int main() {
    // 1. 测试默认构造函数与empty
    List<int> lst1;
    std::cout << "Test 1: 默认构造函数, list should be empty" << std::endl;
    std::cout << "Is empty: " << lst1.empty() << std::endl;

    // 2. 测试初始化列表构造函数
    List<int> lst2 = {1, 2, 3, 4};
    std::cout << "Test 2: 初始化列表构造函数" << std::endl;
    printList(lst2);

    // 3. 测试push_back, push_front 和 size
    lst2.push_back(10);
    lst2.push_back(20);
    lst2.push_front(5);
    std::cout << "Test 3: push_back(10, 20) and push_front(5) :" << std::endl;
    printList(lst2);
    std::cout << "Size: " << lst2.size() << std::endl;

    // 4. 测试pop_front, pop_back
    lst2.pop_front();
    lst2.pop_back();
    std::cout << "Test 4: pop_front and pop_back :" << std::endl;
    printList(lst2);

    // 5. 测试insert
    auto it = lst2.begin();
    lst2.insert(it, 15);
    std::cout << "Test 5: insert 15 at the front:" << std::endl;
    printList(lst2);

    // 6. 测试erase
    it = lst2.begin();
    lst2.erase(it);
    std::cout << "Test 6: erase (remove 15):" << std::endl;
    printList(lst2);

    // 7. 测试拷贝构造函数
    List<int> lst3 = lst2;
    std::cout << "Test 7: 拷贝构造函数:" << std::endl;
    printList(lst3);

    // 8. 测试 front 和 back
    std::cout << "Test 8: Front and Back:" << std::endl;
    std::cout << "front of lst3 : " << lst3.front() << std::endl;
    std::cout << "back of lst3: " << lst3.back() << std::endl;

    // 9. 测试移动构造函数
    List<int> lst4 = std::move(lst3);
    std::cout << "Test 9: 移动构造函数 (move from list 3):" << std::endl;
    printList(lst4);
    std::cout << "size of List 3 after move (should be empty): " << lst3.size() << std::endl;

    // 10. 测试赋值运算符
    List<int> lst5 = lst4;
    std::cout << "Test 10: 赋值运算符 :" << std::endl;
    printList(lst5);

    // 11. 测试clear
    lst5.clear();
    std::cout << "Test 11: After clear (list 5 should be empty):" << std::endl;
    std::cout << "Is empty: " << lst5.empty() << std::endl;
    std::cout << "Size: " << lst5.size() << std::endl;

    return 0;
}
\end{lstlisting}

\section{测试结果}
测试结果均符合预期，证明链表类的各项功能正常。

\begin{enumerate}
    \item **默认构造函数测试：** 链表初始化为空，\texttt{empty()} 返回 \texttt{true}。
    \item **初始化列表构造函数测试：** 链表正确存储了 \texttt{1 2 3 4}。
    \item **元素插入测试：** \texttt{push\_back} 和 \texttt{push\_front} 功能正常，链表变为 \texttt{5 1 2 3 4 10 20}，链表大小正确。
    \item **元素删除测试：** \texttt{pop\_front} 和 \texttt{pop\_back} 功能正常，链表变为 \texttt{1 2 3 4 10}。
    \item **插入测试：** \texttt{insert} 功能正常，在链表前插入 \texttt{15}，结果为 \texttt{15 1 2 3 4 10}。
    \item **删除测试：** \texttt{erase} 正确删除了链表第一个元素 \texttt{15}。
    \item **拷贝构造函数测试：** 深拷贝功能正常，链表 \texttt{lst3} 与 \texttt{lst2} 内容相同。
    \item **移动构造函数测试：** 资源正确转移，移动后链表 \texttt{lst3} 为空。
    \item **赋值运算符测试：** 链表 \texttt{lst5} 正确复制了 \texttt{lst4} 的内容。
    \item **清空测试：** 链表 \texttt{lst5} 被正确清空，大小为 \texttt{0}，\texttt{empty()} 返回 \texttt{true}。
\end{enumerate}

\section{总结}
通过上述测试，可以确认 `List` 类的功能实现是正确的，支持标准链表的各类操作，拷贝与移动语义也正常工作。测试结果符合预期，未发现任何错误。
\end{document}

